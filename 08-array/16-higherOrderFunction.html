<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>高阶函数</title>
    <script>
      /* 
        高阶函数：
          - 如果一个函数的参数或者返回值是函数，则这个函数就称为高阶函数
          - 为什么要将函数作为参数传递？（回调函数有什么用？）
            - 将函数作为参数，意味着可以对另一个函数动态的传递代码
      */
      class Person {
        name;
        age;
        constructor(name, age) {
          this.name = name;
          this.age = age;
        }
      }

      const p1 = new Person("Peach", 20);
      const p2 = new Person("Qiu", 12);
      const p3 = new Person("Yee", 15);

      const personArr = [p1, p2, p3];

      function filter(inArr, cb) {
        const newArray = [];
        for (i = 0; i < inArr.length; i++) {
          if (cb(inArr[i])) {
            newArray.push(inArr[i]);
          }
        }
        return newArray;
      }

      // 我们这种定义回调函数的形式比较少见，通常回调函数都是匿名函数
      // function fn(a) {
      //   return a.age < 18;
      // }

      let res = filter(personArr, (a) => a.name === "Peach");
      console.log(res);
      res = filter(personArr, (a) => a.age < 18);
      console.log(res);

      const arr = [666, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      // 过滤出所有偶数
      res = filter(arr, (ele) => ele % 2 === 0);
      console.log(res);
    </script>
  </head>
  <body></body>
</html>
