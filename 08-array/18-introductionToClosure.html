<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>闭包简介</title>
    <script>
      /*
        创建一个函数,第一次调用打印1,第二次调用打印2,以此类推

        可以利用函数，来隐藏不希望被外部访问到的变量

        闭包：
          闭包就是能访问到外部函数作用域中变量的函数
        什么时候使用：
          当我们需要隐藏一些不希望被人访问的内容时就可以使用闭包
        构成闭包的要件：
          1. 函数的嵌套
          2. 内部函数要引用外部函数中的变量
          3. 内部函数要作为返回值返回
      */
      function outer() {
        console.log(`outer is running`);
        let num = 0;
        return () => {
          num++;
          console.log(num);
        };
      }
      // 此时用 newFn 接收的是 outer() 的返回值，即 return 的 匿名函数，所以newFn为匿名函数
      // 所以调用了一次 outer() 此时 num = 0
      const newFn = outer();
      // 从此处开始，调用的都是 return 的匿名函数（被赋值到 newFn 了），所以 num 不会被重新赋值为0
      newFn();
      newFn();
      newFn();
      newFn();
    </script>
  </head>
  <body></body>
</html>
